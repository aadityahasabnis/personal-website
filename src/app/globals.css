/* ===== TAILWIND IMPORT ===== */
@import "tailwindcss";

/* ===== CUSTOM VARIANTS ===== */
@custom-variant dark (&:is(.dark *));

/* ===== THEME CONFIGURATION ===== */
@theme {
    /* Breakpoints */
    --breakpoint-xs: 31.25rem;
    --breakpoint-tab: 56.25rem;

    /* Font Sizes - Responsive with clamp() */
    --font-size-display: clamp(2.5rem, 6vw, 4.5rem);
    --font-size-title: clamp(1.75rem, 4vw, 2.5rem);
    --font-size-h1: clamp(1.5rem, 3vw, 2rem);
    --font-size-h2: clamp(1.25rem, 2.5vw, 1.75rem);
    --font-size-h3: clamp(1.125rem, 2vw, 1.5rem);
    --font-size-h4: clamp(1rem, 1.5vw, 1.25rem);
    --font-size-h5: clamp(0.925rem, 1.25vw, 1.125rem);
    --font-size-h6: clamp(0.875rem, 1vw, 1rem);
    --font-size-body: clamp(0.9rem, 1vw, 1rem);
    --font-size-small: clamp(0.8rem, 0.9vw, 0.875rem);
    --font-size-label: clamp(0.75rem, 0.8vw, 0.8125rem);

    /* Border Radius */
    --border-radius-lg: var(--radius);
    --border-radius-md: calc(var(--radius) - 2px);
    --border-radius-sm: calc(var(--radius) - 4px);
    --radius-xl: calc(var(--radius) + 4px);
    --radius-2xl: calc(var(--radius) + 8px);
    --radius-3xl: 1.5rem;
    --radius-4xl: 2rem;

    /* Theme Colors - OKLCH Based */
    --color-background: var(--bg);
    --color-foreground: var(--fg);
    --color-card: var(--card-bg);
    --color-card-foreground: var(--fg);
    --color-popover: var(--card-bg);
    --color-popover-foreground: var(--fg);
    --color-primary: var(--accent);
    --color-primary-foreground: var(--accent-fg);
    --color-secondary: var(--surface);
    --color-secondary-foreground: var(--fg);
    --color-accent: var(--accent);
    --color-accent-foreground: var(--accent-fg);
    --color-destructive: var(--error);
    --color-destructive-foreground: #ffffff;
    --color-border: var(--border-color);
    --color-input: var(--border-color);
    --color-ring: var(--accent);
    --color-muted: var(--surface);
    --color-muted-foreground: var(--fg-muted);

    /* Accent Colors */
    --color-violet-50: oklch(0.97 0.02 285);
    --color-violet-100: oklch(0.93 0.04 285);
    --color-violet-200: oklch(0.87 0.08 285);
    --color-violet-300: oklch(0.78 0.12 285);
    --color-violet-400: oklch(0.68 0.18 285);
    --color-violet-500: oklch(0.58 0.22 285);
    --color-violet-600: oklch(0.50 0.24 285);
    --color-violet-700: oklch(0.42 0.22 285);
    --color-violet-800: oklch(0.35 0.18 285);
    --color-violet-900: oklch(0.28 0.14 285);
    --color-violet-950: oklch(0.20 0.10 285);

    /* Status Colors */
    --color-success: oklch(0.65 0.18 145);
    --color-warning: oklch(0.75 0.15 75);
    --color-error: oklch(0.60 0.22 25);
    --color-info: oklch(0.65 0.15 230);

    /* Fonts */
    --font-sans: var(--font-geist-sans), system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
    --font-mono: var(--font-geist-mono), 'SF Mono', 'Fira Code', monospace;

    /* Shadows */
    --shadow-glow-sm: 0 0 20px -5px var(--glow-color);
    --shadow-glow-md: 0 0 40px -10px var(--glow-color);
    --shadow-glow-lg: 0 0 60px -15px var(--glow-color);

    /* Transitions */
    --transition-fast: 150ms cubic-bezier(0.4, 0, 0.2, 1);
    --transition-base: 200ms cubic-bezier(0.4, 0, 0.2, 1);
    --transition-slow: 300ms cubic-bezier(0.4, 0, 0.2, 1);
    --transition-spring: 500ms cubic-bezier(0.34, 1.56, 0.64, 1);
}

/* ===== LIGHT MODE VARIABLES ===== */
:root {
    --radius: 0.625rem;

    /* Light Mode - Warm & Clean */
    --bg: oklch(0.99 0.002 90);
    --bg-subtle: oklch(0.97 0.004 90);
    --fg: oklch(0.20 0.02 285);
    --fg-muted: oklch(0.45 0.02 285);
    --fg-subtle: oklch(0.60 0.015 285);

    /* Surfaces */
    --surface: oklch(0.96 0.006 285);
    --surface-hover: oklch(0.94 0.008 285);
    --card-bg: oklch(1.00 0 0);

    /* Accent - Deep Violet (Lavender #9b87f5 equivalent) */
    --accent: oklch(0.55 0.24 285);         /* Primary lavender */
    --accent-hover: oklch(0.48 0.26 285);   /* Hover state */
    --accent-fg: oklch(0.99 0.002 90);      /* Text on accent */
    --accent-subtle: oklch(0.94 0.06 285);  /* Subtle backgrounds */
    
    /* Legacy color aliases for backward compatibility */
    --lavender: var(--accent);               /* #9b87f5 equivalent */
    --lavender-hover: var(--accent-hover);   /* #8b77e5 equivalent */
    --lavender-light: var(--accent-subtle);  /* Light variant */

    /* Borders */
    --border-color: oklch(0.90 0.01 285);
    --border-hover: oklch(0.85 0.02 285);

    /* Glow */
    --glow-color: oklch(0.55 0.24 285 / 0.3);
    --glow-accent: oklch(0.55 0.24 285 / 0.5);

    /* Ambient Spheres - More visible in light mode */
    --sphere-1: oklch(0.70 0.18 285 / 0.25);
    --sphere-2: oklch(0.65 0.15 320 / 0.20);
    --sphere-3: oklch(0.75 0.12 250 / 0.18);

    /* Gradient */
    --gradient-start: oklch(0.58 0.22 285);
    --gradient-mid: oklch(0.55 0.20 310);
    --gradient-end: oklch(0.60 0.18 250);

    /* Glass */
    --glass-bg: oklch(1.00 0 0 / 0.7);
    --glass-border: oklch(0.90 0.01 285 / 0.5);

    /* Status */
    --success: oklch(0.55 0.18 145);
    --warning: oklch(0.70 0.15 75);
    --error: oklch(0.55 0.22 25);
}

/* ===== DARK MODE VARIABLES ===== */
.dark {
    /* Dark Mode - Deep Purple Black */
    --bg: oklch(0.13 0.03 285);
    --bg-subtle: oklch(0.16 0.035 285);
    --fg: oklch(0.95 0.01 285);
    --fg-muted: oklch(0.70 0.02 285);
    --fg-subtle: oklch(0.55 0.02 285);

    /* Surfaces */
    --surface: oklch(0.18 0.04 285);
    --surface-hover: oklch(0.22 0.045 285);
    --card-bg: oklch(0.16 0.035 285);

    /* Accent - Electric Violet (Lavender #9b87f5 equivalent for dark mode) */
    --accent: oklch(0.70 0.22 285);         /* Primary lavender */
    --accent-hover: oklch(0.75 0.24 285);   /* Hover state */
    --accent-fg: oklch(0.13 0.03 285);      /* Text on accent */
    --accent-subtle: oklch(0.25 0.10 285);  /* Subtle backgrounds */
    
    /* Legacy color aliases for backward compatibility */
    --lavender: var(--accent);               /* #9b87f5 equivalent */
    --lavender-hover: var(--accent-hover);   /* #8b77e5 equivalent */
    --lavender-light: var(--accent-subtle);  /* Light variant */

    /* Borders */
    --border-color: oklch(0.25 0.04 285);
    --border-hover: oklch(0.32 0.05 285);

    /* Glow */
    --glow-color: oklch(0.70 0.22 285 / 0.4);
    --glow-accent: oklch(0.70 0.22 285 / 0.6);

    /* Ambient Spheres */
    --sphere-1: oklch(0.50 0.20 285 / 0.20);
    --sphere-2: oklch(0.45 0.18 320 / 0.15);
    --sphere-3: oklch(0.55 0.15 250 / 0.12);

    /* Gradient */
    --gradient-start: oklch(0.65 0.22 285);
    --gradient-mid: oklch(0.60 0.20 310);
    --gradient-end: oklch(0.68 0.18 250);

    /* Glass */
    --glass-bg: oklch(0.16 0.035 285 / 0.7);
    --glass-border: oklch(0.30 0.05 285 / 0.5);
}

/* ===== BASE LAYER ===== */
@layer base {
    * {
        @apply border-border;
        box-sizing: border-box;
    }

    html {
        scroll-behavior: smooth;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
        text-rendering: optimizeLegibility;
    }

    body {
        @apply bg-background text-foreground;
        font-family: var(--font-sans);
        font-feature-settings: "rlig" 1, "calt" 1;
        overflow-x: hidden;
    }

    /* Selection */
    ::selection {
        background: var(--accent);
        color: var(--accent-fg);
    }

    /* Focus Visible */
    :focus-visible {
        @apply outline-none ring-2 ring-offset-2 ring-offset-background;
        ring-color: var(--accent);
    }
}

/* ===== TYPOGRAPHY SYSTEM ===== */
@layer base {
    .heading-display {
        font-size: var(--font-size-display);
        line-height: 1.1;
        letter-spacing: -0.03em;
        font-weight: 700;
    }

    .heading-1 {
        font-size: var(--font-size-title);
        line-height: 1.2;
        letter-spacing: -0.025em;
        font-weight: 700;
    }

    .heading-2 {
        font-size: var(--font-size-h1);
        line-height: 1.25;
        letter-spacing: -0.02em;
        font-weight: 600;
    }

    .heading-3 {
        font-size: var(--font-size-h2);
        line-height: 1.3;
        letter-spacing: -0.015em;
        font-weight: 600;
    }

    .heading-4 {
        font-size: var(--font-size-h3);
        line-height: 1.35;
        letter-spacing: -0.01em;
        font-weight: 600;
    }

    .body-large {
        font-size: var(--font-size-h5);
        line-height: 1.6;
        letter-spacing: -0.01em;
    }

    .body-base {
        font-size: var(--font-size-body);
        line-height: 1.7;
        letter-spacing: 0;
    }

    .body-small {
        font-size: var(--font-size-small);
        line-height: 1.6;
        letter-spacing: 0.01em;
    }

    .label {
        font-size: var(--font-size-label);
        line-height: 1.4;
        letter-spacing: 0.02em;
        font-weight: 500;
        text-transform: uppercase;
    }

    /* Legacy typography classes */
    .text-title {
        font-size: var(--font-size-title);
        line-height: 1.2;
        letter-spacing: -0.025em;
        font-weight: 700;
    }

    .text-h1 {
        font-size: var(--font-size-h1);
        line-height: 1.25;
        letter-spacing: -0.02em;
        font-weight: 700;
    }

    .text-h2 {
        font-size: var(--font-size-h2);
        line-height: 1.3;
        letter-spacing: -0.015em;
        font-weight: 600;
    }

    .text-h5 {
        font-size: var(--font-size-h5);
        line-height: 1.5;
        letter-spacing: 0;
        font-weight: 600;
    }

    .text-h6 {
        font-size: var(--font-size-h6);
        line-height: 1.5;
        letter-spacing: 0;
        font-weight: 600;
    }

    .text-label {
        font-size: var(--font-size-label);
        line-height: 1.4;
        letter-spacing: 0.02em;
        font-weight: 500;
    }

    .text-regular {
        font-size: var(--font-size-body);
        line-height: 1.7;
        letter-spacing: 0;
        font-weight: 400;
    }
}

/* ===== GLASSMORPHISM ===== */
@layer utilities {
    .glass {
        background: var(--glass-bg);
        backdrop-filter: blur(12px) saturate(180%);
        -webkit-backdrop-filter: blur(12px) saturate(180%);
        border: 1px solid var(--glass-border);
    }

    .glass-subtle {
        background: var(--glass-bg);
        backdrop-filter: blur(8px) saturate(150%);
        -webkit-backdrop-filter: blur(8px) saturate(150%);
        border: 1px solid var(--glass-border);
    }

    .glass-strong {
        background: var(--glass-bg);
        backdrop-filter: blur(20px) saturate(200%);
        -webkit-backdrop-filter: blur(20px) saturate(200%);
        border: 1px solid var(--glass-border);
    }

    .glass-card {
        background: var(--card-bg);
        backdrop-filter: blur(10px);
        -webkit-backdrop-filter: blur(10px);
        border: 1px solid var(--border-color);
        box-shadow: 
            0 4px 6px -1px oklch(0 0 0 / 0.05),
            0 2px 4px -2px oklch(0 0 0 / 0.05);
    }

    .dark .glass-card {
        box-shadow: 
            0 4px 6px -1px oklch(0 0 0 / 0.2),
            0 2px 4px -2px oklch(0 0 0 / 0.2),
            inset 0 1px 0 0 oklch(1 0 0 / 0.05);
    }
}

/* ===== GRADIENT UTILITIES ===== */
@layer utilities {
    .gradient-text {
        background: linear-gradient(135deg, var(--gradient-start), var(--gradient-mid), var(--gradient-end));
        -webkit-background-clip: text;
        background-clip: text;
        -webkit-text-fill-color: transparent;
    }

    .gradient-text-subtle {
        background: linear-gradient(135deg, var(--fg), var(--fg-muted));
        -webkit-background-clip: text;
        background-clip: text;
        -webkit-text-fill-color: transparent;
    }

    .gradient-border {
        position: relative;
        background: var(--card-bg);
        border-radius: var(--radius);
    }

    .gradient-border::before {
        content: '';
        position: absolute;
        inset: 0;
        padding: 1px;
        border-radius: inherit;
        background: linear-gradient(135deg, var(--gradient-start), var(--gradient-mid), var(--gradient-end));
        -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
        mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
        -webkit-mask-composite: xor;
        mask-composite: exclude;
        pointer-events: none;
    }

    .gradient-bg {
        background: linear-gradient(135deg, var(--gradient-start), var(--gradient-mid), var(--gradient-end));
    }

    .gradient-bg-subtle {
        background: linear-gradient(135deg, var(--accent-subtle), var(--surface));
    }
}

/* ===== GLOW EFFECTS ===== */
@layer utilities {
    .glow {
        box-shadow: var(--shadow-glow-sm);
    }

    .glow-md {
        box-shadow: var(--shadow-glow-md);
    }

    .glow-lg {
        box-shadow: var(--shadow-glow-lg);
    }

    .glow-text {
        text-shadow: 0 0 30px var(--glow-color);
    }

    .glow-accent {
        box-shadow: 0 0 40px -10px var(--glow-accent);
    }

    .hover-glow {
        transition: box-shadow var(--transition-base);
    }

    .hover-glow:hover {
        box-shadow: var(--shadow-glow-md);
    }
}

/* ===== AMBIENT BACKGROUND ===== */
@layer utilities {
    .ambient-bg {
        position: fixed;
        inset: 0;
        overflow: hidden;
        pointer-events: none;
        z-index: -1;
    }

    .ambient-sphere {
        position: absolute;
        border-radius: 50%;
        filter: blur(80px);
        animation: float 20s ease-in-out infinite;
    }

    .ambient-sphere-1 {
        width: 600px;
        height: 600px;
        background: var(--sphere-1);
        top: -200px;
        right: -100px;
        animation-delay: 0s;
    }

    .ambient-sphere-2 {
        width: 500px;
        height: 500px;
        background: var(--sphere-2);
        bottom: -150px;
        left: -100px;
        animation-delay: -7s;
    }

    .ambient-sphere-3 {
        width: 400px;
        height: 400px;
        background: var(--sphere-3);
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        animation-delay: -14s;
    }
}

/* ===== NOISE OVERLAY ===== */
@layer utilities {
    .noise-overlay {
        position: fixed;
        inset: 0;
        pointer-events: none;
        z-index: 9999;
        opacity: 0.015;
        background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E");
    }

    .dark .noise-overlay {
        opacity: 0.03;
    }
}

/* ===== PREMIUM CARD STYLES ===== */
@layer utilities {
    .card-premium {
        background: var(--card-bg);
        backdrop-filter: blur(10px);
        -webkit-backdrop-filter: blur(10px);
        border: 1px solid var(--border-color);
        box-shadow: 
            0 4px 6px -1px oklch(0 0 0 / 0.05),
            0 2px 4px -2px oklch(0 0 0 / 0.05);
        border-radius: 1rem;
        padding: 1.5rem;
        transition: 
            transform var(--transition-base),
            box-shadow var(--transition-base),
            border-color var(--transition-base);
    }

    .dark .card-premium {
        box-shadow: 
            0 4px 6px -1px oklch(0 0 0 / 0.2),
            0 2px 4px -2px oklch(0 0 0 / 0.2),
            inset 0 1px 0 0 oklch(1 0 0 / 0.05);
    }

    .card-premium:hover {
        transform: translateY(-2px);
        border-color: var(--border-hover);
        box-shadow: 
            0 20px 25px -5px oklch(0 0 0 / 0.08),
            0 8px 10px -6px oklch(0 0 0 / 0.08);
    }

    .dark .card-premium:hover {
        box-shadow: 
            0 20px 25px -5px oklch(0 0 0 / 0.3),
            0 8px 10px -6px oklch(0 0 0 / 0.3),
            0 0 40px -10px var(--glow-color);
    }

    .card-interactive {
        background: var(--card-bg);
        backdrop-filter: blur(10px);
        -webkit-backdrop-filter: blur(10px);
        border: 1px solid var(--border-color);
        box-shadow: 
            0 4px 6px -1px oklch(0 0 0 / 0.05),
            0 2px 4px -2px oklch(0 0 0 / 0.05);
        border-radius: 1rem;
        padding: 1.5rem;
        cursor: pointer;
        transition: 
            transform var(--transition-base),
            box-shadow var(--transition-base),
            border-color var(--transition-base);
    }

    .card-interactive:hover {
        transform: translateY(-4px) scale(1.01);
    }

    .card-highlight {
        position: relative;
        background: var(--card-bg);
        border-radius: var(--radius);
    }

    .card-highlight::before {
        content: '';
        position: absolute;
        inset: 0;
        padding: 1px;
        border-radius: inherit;
        background: linear-gradient(135deg, var(--gradient-start), var(--gradient-mid), var(--gradient-end));
        -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
        mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
        -webkit-mask-composite: xor;
        mask-composite: exclude;
        pointer-events: none;
    }
}

/* ===== BUTTON STYLES ===== */
@layer utilities {
    .btn-primary {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        gap: 0.5rem;
        padding: 0.75rem 1.5rem;
        border-radius: 0.75rem;
        font-weight: 500;
        background: var(--accent);
        color: var(--accent-fg);
        transition: 
            transform var(--transition-fast),
            box-shadow var(--transition-base),
            background var(--transition-base);
    }

    .btn-primary:hover {
        background: var(--accent-hover);
        transform: translateY(-1px);
        box-shadow: 0 10px 20px -10px var(--glow-accent);
    }

    .btn-primary:active {
        transform: translateY(0);
    }

    .btn-secondary {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        gap: 0.5rem;
        padding: 0.75rem 1.5rem;
        border-radius: 0.75rem;
        font-weight: 500;
        background: var(--surface);
        color: var(--fg);
        border: 1px solid var(--border-color);
        transition: 
            transform var(--transition-fast),
            background var(--transition-base),
            border-color var(--transition-base);
    }

    .btn-secondary:hover {
        background: var(--surface-hover);
        border-color: var(--border-hover);
        transform: translateY(-1px);
    }

    .btn-ghost {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        gap: 0.5rem;
        padding: 0.5rem 1rem;
        border-radius: 0.5rem;
        font-weight: 500;
        color: var(--fg-muted);
        transition: 
            color var(--transition-fast),
            background var(--transition-fast);
    }

    .btn-ghost:hover {
        color: var(--fg);
        background: var(--surface);
    }

    .btn-gradient {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        gap: 0.5rem;
        padding: 0.75rem 1.5rem;
        border-radius: 0.75rem;
        font-weight: 500;
        background: linear-gradient(135deg, var(--gradient-start), var(--gradient-end));
        color: white;
        transition: 
            transform var(--transition-fast),
            box-shadow var(--transition-base),
            opacity var(--transition-base);
    }

    .btn-gradient:hover {
        transform: translateY(-1px);
        box-shadow: 0 10px 30px -10px var(--glow-accent);
        opacity: 0.9;
    }
}

/* ===== LINK STYLES ===== */
@layer utilities {
    .link-default {
        color: var(--accent);
        text-decoration: none;
        transition: color var(--transition-fast);
    }

    .link-default:hover {
        color: var(--accent-hover);
    }

    .link-underline {
        color: var(--fg);
        text-decoration: none;
        position: relative;
    }

    .link-underline::after {
        content: '';
        position: absolute;
        bottom: -2px;
        left: 0;
        width: 0;
        height: 1px;
        background: var(--accent);
        transition: width var(--transition-base);
    }

    .link-underline:hover::after {
        width: 100%;
    }

    .link-subtle {
        color: var(--fg-muted);
        text-decoration: none;
        transition: color var(--transition-fast);
    }

    .link-subtle:hover {
        color: var(--fg);
    }
}

/* ===== BADGE & PILL UTILITIES ===== */
@layer utilities {
    /* Primary Badge (Accent color) */
    .badge-primary {
        display: inline-flex;
        align-items: center;
        gap: 0.375rem;
        padding: 0.25rem 0.75rem;
        border-radius: 9999px;
        font-size: 0.75rem;
        font-weight: 500;
        background: var(--accent);
        color: var(--accent-fg);
    }

    /* Subtle Badge (Accent with transparency) */
    .badge-accent-subtle {
        display: inline-flex;
        align-items: center;
        gap: 0.375rem;
        padding: 0.25rem 0.75rem;
        border-radius: 9999px;
        font-size: 0.75rem;
        font-weight: 500;
        background: var(--accent-subtle);
        color: var(--accent);
    }

    /* Outline Badge */
    .badge-outline {
        display: inline-flex;
        align-items: center;
        gap: 0.375rem;
        padding: 0.25rem 0.75rem;
        border-radius: 9999px;
        font-size: 0.75rem;
        font-weight: 500;
        background: transparent;
        border: 1px solid var(--accent);
        color: var(--accent);
    }

    /* Tag/Pill (for content tags) */
    .tag-pill {
        display: inline-flex;
        align-items: center;
        gap: 0.375rem;
        padding: 0.375rem 0.75rem;
        border-radius: 0.5rem;
        font-size: 0.875rem;
        font-weight: 500;
        background: var(--surface);
        color: var(--fg-muted);
        border: 1px solid var(--border-color);
        transition: 
            background var(--transition-fast),
            border-color var(--transition-fast),
            color var(--transition-fast);
    }

    .tag-pill:hover {
        background: var(--surface-hover);
        border-color: var(--accent);
        color: var(--accent);
    }

    /* Status Badges */
    .badge-success {
        display: inline-flex;
        align-items: center;
        gap: 0.375rem;
        padding: 0.25rem 0.75rem;
        border-radius: 9999px;
        font-size: 0.75rem;
        font-weight: 500;
        background: var(--success);
        color: white;
    }

    .badge-warning {
        display: inline-flex;
        align-items: center;
        gap: 0.375rem;
        padding: 0.25rem 0.75rem;
        border-radius: 9999px;
        font-size: 0.75rem;
        font-weight: 500;
        background: var(--warning);
        color: white;
    }

    .badge-error {
        display: inline-flex;
        align-items: center;
        gap: 0.375rem;
        padding: 0.25rem 0.75rem;
        border-radius: 9999px;
        font-size: 0.75rem;
        font-weight: 500;
        background: var(--error);
        color: white;
    }
}

/* ===== CONTAINER UTILITIES ===== */
@layer utilities {
    .container-narrow {
        max-width: 680px;
        margin-left: auto;
        margin-right: auto;
        padding-left: 1.5rem;
        padding-right: 1.5rem;
    }

    .container-base {
        max-width: 960px;
        margin-left: auto;
        margin-right: auto;
        padding-left: 1.5rem;
        padding-right: 1.5rem;
    }

    .container-wide {
        max-width: 1200px;
        margin-left: auto;
        margin-right: auto;
        padding-left: 1.5rem;
        padding-right: 1.5rem;
    }

    .container-full {
        max-width: 1400px;
        margin-left: auto;
        margin-right: auto;
        padding-left: 2rem;
        padding-right: 2rem;
    }
}

/* ===== SCROLLBAR STYLING ===== */
@layer utilities {
    ::-webkit-scrollbar {
        width: 8px;
        height: 8px;
    }

    ::-webkit-scrollbar-track {
        background: transparent;
    }

    ::-webkit-scrollbar-thumb {
        background: var(--border-color);
        border-radius: 4px;
    }

    ::-webkit-scrollbar-thumb:hover {
        background: var(--border-hover);
    }

    * {
        scrollbar-width: thin;
        scrollbar-color: var(--border-color) transparent;
    }

    .no-scrollbar::-webkit-scrollbar {
        display: none;
    }

    .no-scrollbar {
        -ms-overflow-style: none;
        scrollbar-width: none;
    }
}

/* ===== LINE CLAMP UTILITIES ===== */
@layer utilities {
    .line-clamp-1 {
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
    }

    .line-clamp-2,
    .line-clamp-3,
    .line-clamp-4 {
        overflow: hidden;
        display: -webkit-box;
        -webkit-box-orient: vertical;
    }

    .line-clamp-2 {
        -webkit-line-clamp: 2;
    }

    .line-clamp-3 {
        -webkit-line-clamp: 3;
    }

    .line-clamp-4 {
        -webkit-line-clamp: 4;
    }
}

/* ===== FORM UTILITIES ===== */
@layer utilities {
    /* Standard Form Input */
    .input-base {
        width: 100%;
        padding: 0.625rem 0.75rem;
        border-radius: 0.75rem;
        border: 2px solid var(--border-color);
        background: var(--card-bg);
        color: var(--fg);
        transition: all 200ms cubic-bezier(0.4, 0, 0.2, 1);
    }

    .input-base::placeholder {
        color: var(--fg-subtle);
    }

    .input-base:focus {
        outline: none;
        border-color: var(--accent);
        box-shadow: 0 0 0 2px oklch(from var(--accent) l c h / 0.2);
    }

    .input-base:hover:not(:focus) {
        border-color: var(--border-hover);
    }

    @media (min-width: 768px) {
        .input-base {
            padding: 0.75rem 1rem;
        }
    }

    /* Textarea variant */
    .textarea-base {
        width: 100%;
        padding: 0.625rem 0.75rem;
        border-radius: 0.75rem;
        border: 2px solid var(--border-color);
        background: var(--card-bg);
        color: var(--fg);
        min-height: 120px;
        resize: vertical;
        transition: all 200ms cubic-bezier(0.4, 0, 0.2, 1);
    }

    .textarea-base::placeholder {
        color: var(--fg-subtle);
    }

    .textarea-base:focus {
        outline: none;
        border-color: var(--accent);
        box-shadow: 0 0 0 2px oklch(from var(--accent) l c h / 0.2);
    }

    .textarea-base:hover:not(:focus) {
        border-color: var(--border-hover);
    }

    @media (min-width: 768px) {
        .textarea-base {
            padding: 0.75rem 1rem;
        }
    }

    /* Form Label */
    .label-base {
        display: block;
        font-size: 0.875rem;
        font-weight: 500;
        color: var(--fg);
        margin-bottom: 0.5rem;
    }

    /* Form Error */
    .input-error {
        border-color: var(--error);
    }

    .input-error:focus {
        border-color: var(--error);
        box-shadow: 0 0 0 2px oklch(from var(--error) l c h / 0.2);
    }

    .error-message {
        font-size: 0.875rem;
        color: var(--error);
        margin-top: 0.25rem;
    }

    ::-ms-reveal {
        display: none;
    }

    .spin-button-none::-webkit-outer-spin-button,
    .spin-button-none::-webkit-inner-spin-button {
        appearance: none;
    }

    input::placeholder,
    textarea::placeholder {
        color: var(--fg-subtle);
    }
}

/* ===== KEYFRAMES ===== */
@keyframes float {
    0%, 100% {
        transform: translate(0, 0) scale(1);
    }
    25% {
        transform: translate(20px, -30px) scale(1.05);
    }
    50% {
        transform: translate(-10px, 20px) scale(0.95);
    }
    75% {
        transform: translate(-30px, -10px) scale(1.02);
    }
}

@keyframes fade-in-up {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes fade-in-down {
    from {
        opacity: 0;
        transform: translateY(-20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes fade-in {
    from {
        opacity: 0;
    }
    to {
        opacity: 1;
    }
}

@keyframes scale-in {
    from {
        opacity: 0;
        transform: scale(0.95);
    }
    to {
        opacity: 1;
        transform: scale(1);
    }
}

@keyframes blur-in {
    from {
        opacity: 0;
        filter: blur(10px);
    }
    to {
        opacity: 1;
        filter: blur(0);
    }
}

@keyframes slide-in-right {
    from {
        opacity: 0;
        transform: translateX(20px);
    }
    to {
        opacity: 1;
        transform: translateX(0);
    }
}

@keyframes slide-in-left {
    from {
        opacity: 0;
        transform: translateX(-20px);
    }
    to {
        opacity: 1;
        transform: translateX(0);
    }
}

@keyframes pulse-glow {
    0%, 100% {
        box-shadow: 0 0 20px -5px var(--glow-color);
    }
    50% {
        box-shadow: 0 0 40px -5px var(--glow-accent);
    }
}

@keyframes shimmer {
    0% {
        background-position: -200% 0;
    }
    100% {
        background-position: 200% 0;
    }
}

@keyframes spin {
    from {
        transform: rotate(0deg);
    }
    to {
        transform: rotate(360deg);
    }
}

@keyframes bounce-subtle {
    0%, 100% {
        transform: translateY(0);
    }
    50% {
        transform: translateY(-5px);
    }
}

@keyframes wiggle {
    0%, 100% {
        transform: rotate(0deg);
    }
    25% {
        transform: rotate(-3deg);
    }
    75% {
        transform: rotate(3deg);
    }
}

@keyframes accordion-down {
    from {
        height: 0;
    }
    to {
        height: var(--radix-accordion-content-height);
    }
}

@keyframes accordion-up {
    from {
        height: var(--radix-accordion-content-height);
    }
    to {
        height: 0;
    }
}

@keyframes scroll {
    to {
        transform: translate(calc(-50% - 0.5rem));
    }
}

@keyframes blink {
    0%, 100% {
        opacity: 1;
    }
    50% {
        opacity: 0;
    }
}

@keyframes intro-reveal {
    from {
        clip-path: inset(0 0 100% 0);
    }
    to {
        clip-path: inset(0 0 0 0);
    }
}

@keyframes gradient-shift {
    0% {
        background-position: 0% 50%;
    }
    50% {
        background-position: 100% 50%;
    }
    100% {
        background-position: 0% 50%;
    }
}

/* ===== ANIMATION UTILITIES ===== */
@layer utilities {
    .animate-fade-in {
        animation: fade-in 0.5s ease-out;
    }

    .animate-fade-in-up {
        animation: fade-in-up 0.6s ease-out;
    }

    .animate-fade-in-down {
        animation: fade-in-down 0.6s ease-out;
    }

    .animate-scale-in {
        animation: scale-in 0.4s ease-out;
    }

    .animate-blur-in {
        animation: blur-in 0.5s ease-out;
    }

    .animate-slide-in-right {
        animation: slide-in-right 0.5s ease-out;
    }

    .animate-slide-in-left {
        animation: slide-in-left 0.5s ease-out;
    }

    .animate-pulse-glow {
        animation: pulse-glow 3s ease-in-out infinite;
    }

    .animate-shimmer {
        background: linear-gradient(
            90deg,
            var(--surface) 0%,
            var(--surface-hover) 50%,
            var(--surface) 100%
        );
        background-size: 200% 100%;
        animation: shimmer 1.5s ease-in-out infinite;
    }

    .animate-spin {
        animation: spin 1s linear infinite;
    }

    .animate-bounce-subtle {
        animation: bounce-subtle 2s ease-in-out infinite;
    }

    .animate-wiggle {
        animation: wiggle 0.5s ease-in-out;
    }

    .animate-accordion-down {
        animation: accordion-down 0.2s ease-out;
    }

    .animate-accordion-up {
        animation: accordion-up 0.2s ease-out;
    }

    .animate-gradient {
        background-size: 200% 200%;
        animation: gradient-shift 8s ease infinite;
    }

    /* Animation Delays */
    .delay-100 { animation-delay: 100ms; }
    .delay-200 { animation-delay: 200ms; }
    .delay-300 { animation-delay: 300ms; }
    .delay-400 { animation-delay: 400ms; }
    .delay-500 { animation-delay: 500ms; }
    .delay-700 { animation-delay: 700ms; }
    .delay-1000 { animation-delay: 1000ms; }

    /* Fill Modes */
    .fill-forwards { animation-fill-mode: forwards; }
    .fill-backwards { animation-fill-mode: backwards; }
    .fill-both { animation-fill-mode: both; }
}

/* ===== PROSE STYLES ===== */
@layer base {
    .prose {
        --tw-prose-body: var(--fg);
        --tw-prose-headings: var(--fg);
        --tw-prose-links: var(--accent);
        --tw-prose-code: var(--fg);
        --tw-prose-pre-bg: var(--surface);
        color: var(--fg);
        line-height: 1.75;
    }

    .prose h1, .prose h2, .prose h3, .prose h4 {
        color: var(--fg);
        font-weight: 600;
        letter-spacing: -0.02em;
    }

    .prose h1 {
        font-size: var(--font-size-h1);
        margin-top: 2.5em;
        margin-bottom: 0.75em;
    }

    .prose h2 {
        font-size: var(--font-size-h2);
        margin-top: 2em;
        margin-bottom: 0.75em;
    }

    .prose h3 {
        font-size: var(--font-size-h3);
        margin-top: 1.75em;
        margin-bottom: 0.5em;
    }

    .prose p {
        margin-bottom: 1.25em;
    }

    .prose a {
        color: var(--accent);
        text-decoration: underline;
        text-underline-offset: 3px;
        transition: color var(--transition-fast);
    }

    .prose a:hover {
        color: var(--accent-hover);
    }

    .prose pre {
        @apply rounded-xl overflow-x-auto;
        background: var(--surface);
        border: 1px solid var(--border-color);
        padding: 1.25rem;
    }

    .prose code {
        @apply px-1.5 py-0.5 rounded-md font-mono text-sm;
        background: var(--surface);
        color: var(--accent);
    }

    .prose pre code {
        @apply p-0 bg-transparent;
        color: var(--fg);
    }

    .prose img {
        @apply rounded-xl;
    }

    .prose blockquote {
        border-left: 3px solid var(--accent);
        padding-left: 1.25rem;
        font-style: italic;
        color: var(--fg-muted);
    }

    .prose ul, .prose ol {
        padding-left: 1.5rem;
    }

    .prose li {
        margin-bottom: 0.5em;
    }

    .prose li::marker {
        color: var(--accent);
    }

    .prose hr {
        border-color: var(--border-color);
        margin: 2.5em 0;
    }

    .prose table {
        width: 100%;
        border-collapse: collapse;
    }

    .prose th, .prose td {
        border: 1px solid var(--border-color);
        padding: 0.75rem;
        text-align: left;
    }

    .prose th {
        background: var(--surface);
        font-weight: 600;
    }
}

/* ===== SPECIAL EFFECTS ===== */
@layer utilities {
    /* Spotlight Effect */
    .spotlight {
        position: relative;
        overflow: hidden;
    }

    .spotlight::before {
        content: '';
        position: absolute;
        top: var(--mouse-y, 50%);
        left: var(--mouse-x, 50%);
        width: 600px;
        height: 600px;
        background: radial-gradient(
            circle,
            var(--glow-color) 0%,
            transparent 70%
        );
        transform: translate(-50%, -50%);
        pointer-events: none;
        opacity: 0;
        transition: opacity var(--transition-slow);
    }

    .spotlight:hover::before {
        opacity: 1;
    }

    /* Magnetic Effect (JS controlled) */
    .magnetic {
        transition: transform var(--transition-fast);
    }

    /* Tilt Card Effect */
    .tilt-card {
        transform-style: preserve-3d;
        perspective: 1000px;
    }

    /* Border Glow on Hover */
    .border-glow {
        position: relative;
    }

    .border-glow::after {
        content: '';
        position: absolute;
        inset: -1px;
        border-radius: inherit;
        background: linear-gradient(135deg, var(--gradient-start), var(--gradient-end));
        opacity: 0;
        z-index: -1;
        transition: opacity var(--transition-base);
        filter: blur(8px);
    }

    .border-glow:hover::after {
        opacity: 0.5;
    }
}

/* ===== PRINT STYLES ===== */
@media print {
    .no-print {
        display: none !important;
    }

    body {
        background: white !important;
        color: black !important;
    }

    .ambient-bg,
    .noise-overlay {
        display: none !important;
    }
}

/* ===== REDUCED MOTION ===== */
@media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }

    .ambient-sphere {
        animation: none !important;
    }
}

/* ===== YOOPTA EDITOR - SCOPED THEME ===== */
/* 
 * We import UI components from @yoopta/themes-shadcn SUBMODULES to avoid global CSS injection.
 * The shadcn components use CSS variables (--background, --foreground, etc).
 * We define these variables ONLY within .yoopta-editor-container to not affect the rest of the site.
 */

/* ===== SCOPED SHADCN VARIABLES FOR YOOPTA (LIGHT MODE) ===== */
.yoopta-editor-container,
.yoopta-editor-wrapper {
    /* Shadcn HSL variables scoped to editor only */
    --background: 0 0% 100%;
    --foreground: 240 10% 12%;
    --card: 0 0% 100%;
    --card-foreground: 240 10% 12%;
    --popover: 0 0% 100%;
    --popover-foreground: 240 10% 12%;
    --primary: 271 70% 45%;
    --primary-foreground: 0 0% 98%;
    --secondary: 240 5% 96%;
    --secondary-foreground: 240 10% 12%;
    --muted: 240 5% 96%;
    --muted-foreground: 240 4% 46%;
    --accent: 240 5% 96%;
    --accent-foreground: 240 10% 12%;
    --destructive: 0 84% 60%;
    --destructive-foreground: 0 0% 98%;
    --border: 240 6% 90%;
    --input: 240 6% 90%;
    --ring: 271 70% 45%;
    --radius: 0.5rem;
}

/* ===== SCOPED SHADCN VARIABLES FOR YOOPTA (DARK MODE) ===== */
.dark .yoopta-editor-container,
.dark .yoopta-editor-wrapper {
    --background: 240 10% 10%;
    --foreground: 0 0% 95%;
    --card: 240 10% 10%;
    --card-foreground: 0 0% 95%;
    --popover: 240 10% 10%;
    --popover-foreground: 0 0% 95%;
    --primary: 271 70% 60%;
    --primary-foreground: 240 10% 10%;
    --secondary: 240 4% 16%;
    --secondary-foreground: 0 0% 95%;
    --muted: 240 4% 16%;
    --muted-foreground: 240 5% 65%;
    --accent: 240 4% 16%;
    --accent-foreground: 0 0% 95%;
    --destructive: 0 62% 30%;
    --destructive-foreground: 0 0% 95%;
    --border: 240 4% 20%;
    --input: 240 4% 20%;
    --ring: 271 70% 60%;
}

/* ===== YOOPTA EDITOR - OKLCH COLOR OVERRIDES ===== */
/* 
 * Override with OKLCH colors for consistency with the rest of the site.
 * These take precedence over the shadcn HSL variables for direct styles.
 * 
 * Light mode colors:
 *   --bg: oklch(0.99 0.002 90)
 *   --fg: oklch(0.20 0.02 285)
 *   --fg-muted: oklch(0.45 0.02 285)
 *   --surface: oklch(0.96 0.006 285)
 *   --card-bg: oklch(1.00 0 0) (white)
 *   --accent: oklch(0.55 0.24 285)
 *   --border-color: oklch(0.90 0.01 285)
 * 
 * Dark mode colors:
 *   --bg: oklch(0.13 0.03 285)
 *   --fg: oklch(0.95 0.01 285)
 *   --fg-muted: oklch(0.70 0.02 285)
 *   --surface: oklch(0.18 0.04 285)
 *   --card-bg: oklch(0.16 0.035 285)
 *   --accent: oklch(0.70 0.22 285)
 *   --border-color: oklch(0.25 0.04 285)
 */

/* ===== LIGHT MODE - YOOPTA EDITOR ===== */

/* Editor wrapper and container */
.yoopta-editor-wrapper {
    color: oklch(0.20 0.02 285) !important;
}

.yoopta-editor-container {
    color: oklch(0.20 0.02 285) !important;
    background: oklch(1.00 0 0) !important;
}

/* All text inside editor */
.yoopta-editor-container * {
    color: inherit;
}

/* Headings */
.yoopta-editor-container h1,
.yoopta-editor-container [data-yoopta-block="HeadingOne"] {
    color: oklch(0.20 0.02 285) !important;
}

.yoopta-editor-container h2,
.yoopta-editor-container [data-yoopta-block="HeadingTwo"] {
    color: oklch(0.20 0.02 285) !important;
}

.yoopta-editor-container h3,
.yoopta-editor-container [data-yoopta-block="HeadingThree"] {
    color: oklch(0.20 0.02 285) !important;
}

/* Paragraphs */
.yoopta-editor-container p,
.yoopta-editor-container [data-yoopta-block="Paragraph"] {
    color: oklch(0.20 0.02 285) !important;
}

/* Placeholder */
[data-slate-placeholder="true"] {
    color: oklch(0.45 0.02 285) !important;
    opacity: 0.6 !important;
}

/* Caret */
.yoopta-editor-container [contenteditable="true"] {
    caret-color: oklch(0.55 0.24 285) !important;
    outline: none !important;
}

/* Lists */
.yoopta-editor-container ul,
.yoopta-editor-container ol,
.yoopta-editor-container li {
    color: oklch(0.20 0.02 285) !important;
}

/* Blockquote */
.yoopta-editor-container blockquote,
.yoopta-editor-container [data-yoopta-block="Blockquote"] {
    color: oklch(0.20 0.02 285) !important;
    border-left: 3px solid oklch(0.55 0.24 285) !important;
    background: oklch(0.96 0.006 285) !important;
    padding: 0.75rem 1rem !important;
    border-radius: 0 0.5rem 0.5rem 0 !important;
}

/* Callout */
.yoopta-editor-container [data-yoopta-block="Callout"] {
    background: oklch(0.96 0.006 285) !important;
    border: 1px solid oklch(0.90 0.01 285) !important;
    border-radius: 0.5rem !important;
    color: oklch(0.20 0.02 285) !important;
}

/* Code blocks */
.yoopta-editor-container pre,
.yoopta-editor-container [data-yoopta-block="Code"] pre {
    background: oklch(0.18 0.02 285) !important;
    border-radius: 0.5rem !important;
    padding: 1rem !important;
    border: 1px solid oklch(0.25 0.04 285) !important;
}

.yoopta-editor-container pre code,
.yoopta-editor-container [data-yoopta-block="Code"] code {
    color: oklch(0.92 0.01 285) !important;
    font-family: ui-monospace, SFMono-Regular, "SF Mono", Menlo, Consolas, monospace !important;
    font-size: 0.875rem !important;
    line-height: 1.6 !important;
    background: transparent !important;
}

/* Inline code */
.yoopta-editor-container code:not(pre code) {
    background: oklch(0.96 0.006 285) !important;
    color: oklch(0.35 0.15 285) !important;
    padding: 0.125rem 0.375rem !important;
    border-radius: 0.25rem !important;
    font-size: 0.875em !important;
}

/* Links */
.yoopta-editor-container a {
    color: oklch(0.55 0.24 285) !important;
    text-decoration: underline !important;
}

.yoopta-editor-container a:hover {
    color: oklch(0.48 0.26 285) !important;
}

/* Divider */
.yoopta-editor-container hr,
.yoopta-editor-container [data-yoopta-block="Divider"] hr {
    border-color: oklch(0.90 0.01 285) !important;
}

/* Table */
.yoopta-editor-container table {
    border-color: oklch(0.90 0.01 285) !important;
}

.yoopta-editor-container th,
.yoopta-editor-container td {
    border-color: oklch(0.90 0.01 285) !important;
    color: oklch(0.20 0.02 285) !important;
}

.yoopta-editor-container th {
    background: oklch(0.96 0.006 285) !important;
}

/* ===== DARK MODE - YOOPTA EDITOR ===== */

.dark .yoopta-editor-wrapper {
    color: oklch(0.95 0.01 285) !important;
}

.dark .yoopta-editor-container {
    color: oklch(0.95 0.01 285) !important;
    background: oklch(0.16 0.035 285) !important;
}

.dark .yoopta-editor-container h1,
.dark .yoopta-editor-container h2,
.dark .yoopta-editor-container h3,
.dark .yoopta-editor-container [data-yoopta-block="HeadingOne"],
.dark .yoopta-editor-container [data-yoopta-block="HeadingTwo"],
.dark .yoopta-editor-container [data-yoopta-block="HeadingThree"] {
    color: oklch(0.95 0.01 285) !important;
}

.dark .yoopta-editor-container p,
.dark .yoopta-editor-container [data-yoopta-block="Paragraph"] {
    color: oklch(0.95 0.01 285) !important;
}

.dark [data-slate-placeholder="true"] {
    color: oklch(0.70 0.02 285) !important;
}

.dark .yoopta-editor-container [contenteditable="true"] {
    caret-color: oklch(0.70 0.22 285) !important;
}

.dark .yoopta-editor-container ul,
.dark .yoopta-editor-container ol,
.dark .yoopta-editor-container li {
    color: oklch(0.95 0.01 285) !important;
}

.dark .yoopta-editor-container blockquote,
.dark .yoopta-editor-container [data-yoopta-block="Blockquote"] {
    color: oklch(0.95 0.01 285) !important;
    border-left-color: oklch(0.70 0.22 285) !important;
    background: oklch(0.18 0.04 285) !important;
}

.dark .yoopta-editor-container [data-yoopta-block="Callout"] {
    background: oklch(0.18 0.04 285) !important;
    border-color: oklch(0.25 0.04 285) !important;
    color: oklch(0.95 0.01 285) !important;
}

.dark .yoopta-editor-container pre,
.dark .yoopta-editor-container [data-yoopta-block="Code"] pre {
    background: oklch(0.12 0.025 285) !important;
    border-color: oklch(0.25 0.04 285) !important;
}

.dark .yoopta-editor-container code:not(pre code) {
    background: oklch(0.22 0.05 285) !important;
    color: oklch(0.80 0.15 285) !important;
}

.dark .yoopta-editor-container a {
    color: oklch(0.70 0.22 285) !important;
}

.dark .yoopta-editor-container a:hover {
    color: oklch(0.75 0.24 285) !important;
}

.dark .yoopta-editor-container hr,
.dark .yoopta-editor-container [data-yoopta-block="Divider"] hr {
    border-color: oklch(0.25 0.04 285) !important;
}

.dark .yoopta-editor-container table {
    border-color: oklch(0.25 0.04 285) !important;
}

.dark .yoopta-editor-container th,
.dark .yoopta-editor-container td {
    border-color: oklch(0.25 0.04 285) !important;
    color: oklch(0.95 0.01 285) !important;
}

.dark .yoopta-editor-container th {
    background: oklch(0.18 0.04 285) !important;
}

/* ===== BLOCK SPACING ===== */

.yoopta-editor-container [data-yoopta-block] {
    margin-top: 0.25rem !important;
    margin-bottom: 0.25rem !important;
}

.yoopta-editor-container [data-yoopta-block]:first-child {
    margin-top: 0 !important;
}

.yoopta-editor-container [data-yoopta-block="Paragraph"] {
    margin-top: 0.125rem !important;
    margin-bottom: 0.125rem !important;
}

.yoopta-editor-container [data-yoopta-block="HeadingOne"],
.yoopta-editor-container [data-yoopta-block="HeadingTwo"],
.yoopta-editor-container [data-yoopta-block="HeadingThree"] {
    margin-top: 1.25rem !important;
    margin-bottom: 0.5rem !important;
}

.yoopta-editor-container [data-yoopta-block="HeadingOne"]:first-child,
.yoopta-editor-container [data-yoopta-block="HeadingTwo"]:first-child,
.yoopta-editor-container [data-yoopta-block="HeadingThree"]:first-child {
    margin-top: 0 !important;
}

.yoopta-editor-container [data-yoopta-block="BulletedList"],
.yoopta-editor-container [data-yoopta-block="NumberedList"],
.yoopta-editor-container [data-yoopta-block="TodoList"] {
    margin-top: 0.125rem !important;
    margin-bottom: 0.125rem !important;
}

.yoopta-editor-container [data-yoopta-block="Code"],
.yoopta-editor-container [data-yoopta-block="Blockquote"],
.yoopta-editor-container [data-yoopta-block="Callout"],
.yoopta-editor-container [data-yoopta-block="Image"],
.yoopta-editor-container [data-yoopta-block="Video"],
.yoopta-editor-container [data-yoopta-block="Table"] {
    margin-top: 0.75rem !important;
    margin-bottom: 0.75rem !important;
}

.yoopta-editor-container [data-yoopta-block="Divider"] {
    margin-top: 1rem !important;
    margin-bottom: 1rem !important;
}

/* ===== YOOPTA FLOATING UI ONLY - LIGHT MODE ===== */
/* Only target Yoopta-specific floating elements, NOT all radix/floating-ui */

/* Yoopta slash command menu */
[data-yoopta-slash-command] {
    background: oklch(1.00 0 0) !important;
    border: 1px solid oklch(0.90 0.01 285) !important;
    border-radius: 0.5rem !important;
    box-shadow: 0 4px 24px rgba(0, 0, 0, 0.12) !important;
    color: oklch(0.20 0.02 285) !important;
    z-index: 100 !important;
}

[data-yoopta-slash-command] button {
    color: oklch(0.20 0.02 285) !important;
}

[data-yoopta-slash-command] button:hover,
[data-yoopta-slash-command] [data-selected="true"] {
    background: oklch(0.96 0.006 285) !important;
    color: oklch(0.55 0.24 285) !important;
}

[data-yoopta-slash-command] [role="option"],
[data-yoopta-slash-command] [data-radix-collection-item] {
    color: oklch(0.20 0.02 285) !important;
}

[data-yoopta-slash-command] [role="option"]:hover,
[data-yoopta-slash-command] [data-radix-collection-item]:hover {
    background: oklch(0.96 0.006 285) !important;
}

/* Yoopta floating toolbar */
[data-yoopta-floating-toolbar] {
    background: oklch(1.00 0 0) !important;
    border: 1px solid oklch(0.90 0.01 285) !important;
    border-radius: 0.5rem !important;
    box-shadow: 0 4px 24px rgba(0, 0, 0, 0.12) !important;
    color: oklch(0.20 0.02 285) !important;
    z-index: 100 !important;
}

[data-yoopta-floating-toolbar] button {
    color: oklch(0.20 0.02 285) !important;
}

[data-yoopta-floating-toolbar] button:hover,
[data-yoopta-floating-toolbar] button[data-active="true"] {
    background: oklch(0.96 0.006 285) !important;
    color: oklch(0.55 0.24 285) !important;
}

/* ===== YOOPTA FLOATING UI ONLY - DARK MODE ===== */

.dark [data-yoopta-slash-command] {
    background: oklch(0.16 0.035 285) !important;
    border-color: oklch(0.25 0.04 285) !important;
    box-shadow: 0 4px 24px rgba(0, 0, 0, 0.4) !important;
    color: oklch(0.95 0.01 285) !important;
}

.dark [data-yoopta-slash-command] button {
    color: oklch(0.95 0.01 285) !important;
}

.dark [data-yoopta-slash-command] button:hover,
.dark [data-yoopta-slash-command] [data-selected="true"] {
    background: oklch(0.22 0.05 285) !important;
    color: oklch(0.70 0.22 285) !important;
}

.dark [data-yoopta-slash-command] [role="option"],
.dark [data-yoopta-slash-command] [data-radix-collection-item] {
    color: oklch(0.95 0.01 285) !important;
}

.dark [data-yoopta-slash-command] [role="option"]:hover,
.dark [data-yoopta-slash-command] [data-radix-collection-item]:hover {
    background: oklch(0.22 0.05 285) !important;
}

.dark [data-yoopta-floating-toolbar] {
    background: oklch(0.16 0.035 285) !important;
    border-color: oklch(0.25 0.04 285) !important;
    box-shadow: 0 4px 24px rgba(0, 0, 0, 0.4) !important;
    color: oklch(0.95 0.01 285) !important;
}

.dark [data-yoopta-floating-toolbar] button {
    color: oklch(0.95 0.01 285) !important;
}

.dark [data-yoopta-floating-toolbar] button:hover,
.dark [data-yoopta-floating-toolbar] button[data-active="true"] {
    background: oklch(0.22 0.05 285) !important;
    color: oklch(0.70 0.22 285) !important;
}

/* ===== SELECTION & HIGHLIGHT ===== */

.yoopta-editor-container ::selection {
    background: oklch(0.55 0.24 285 / 0.3) !important;
}

.dark .yoopta-editor-container ::selection {
    background: oklch(0.70 0.22 285 / 0.3) !important;
}

/* Highlighted text */
.yoopta-editor-container mark,
.yoopta-editor-container [data-mark="highlight"] {
    background: oklch(0.85 0.15 90) !important;
    color: oklch(0.20 0.02 285) !important;
    padding: 0.0625rem 0.125rem !important;
    border-radius: 0.125rem !important;
}

.dark .yoopta-editor-container mark,
.dark .yoopta-editor-container [data-mark="highlight"] {
    background: oklch(0.45 0.12 90) !important;
    color: oklch(0.95 0.01 285) !important;
}

/* ===== DIVIDER / HORIZONTAL RULE ===== */

.yoopta-editor-container [data-yoopta-block="Divider"],
.yoopta-editor-container [data-element-type="divider"] {
    padding: 1rem 0 !important;
}

.yoopta-editor-container [data-yoopta-block="Divider"] hr,
.yoopta-editor-container [data-element-type="divider"] hr,
.yoopta-editor-container hr {
    border: none !important;
    border-top: 2px solid oklch(0.85 0.01 285) !important;
    margin: 0 !important;
}

.dark .yoopta-editor-container [data-yoopta-block="Divider"] hr,
.dark .yoopta-editor-container [data-element-type="divider"] hr,
.dark .yoopta-editor-container hr {
    border-top-color: oklch(0.30 0.04 285) !important;
}

/* ===== HIGHLIGHT MARK IN EDITOR ===== */

.yoopta-editor-container [data-slate-leaf] mark,
.yoopta-editor-container span[style*="background"] {
    background-color: oklch(0.85 0.18 90) !important;
    padding: 0.125rem 0.25rem !important;
    border-radius: 0.125rem !important;
}

.dark .yoopta-editor-container [data-slate-leaf] mark,
.dark .yoopta-editor-container span[style*="background"] {
    background-color: oklch(0.50 0.15 90) !important;
}

/* ===== IMAGE/VIDEO/FILE/EMBED BLOCKS - MINIMAL STYLING ===== */
/* 
 * IMPORTANT: Do NOT override layout properties (display, flex, padding, etc.)
 * Only style colors and borders to match theme without breaking shadcn components
 */

.yoopta-editor-container [data-yoopta-block="Image"],
.yoopta-editor-container [data-yoopta-block="Video"],
.yoopta-editor-container [data-yoopta-block="File"],
.yoopta-editor-container [data-yoopta-block="Embed"] {
    margin: 0.75rem 0 !important;
}

/* Uploaded images/videos styling */
.yoopta-editor-container [data-yoopta-block="Image"] img {
    border-radius: 0.5rem !important;
    max-width: 100% !important;
}

.yoopta-editor-container [data-yoopta-block="Video"] video,
.yoopta-editor-container [data-yoopta-block="Video"] iframe {
    border-radius: 0.5rem !important;
}

.yoopta-editor-container [data-yoopta-block="Embed"] iframe {
    border-radius: 0.5rem !important;
}

/* ===== SHADCN PLACEHOLDER UI - COLOR ONLY ===== */
/* Style the placeholder container border/background without breaking layout */

.yoopta-editor-container .rounded-lg.border.bg-background {
    border-color: oklch(0.88 0.015 285) !important;
}

.dark .yoopta-editor-container .rounded-lg.border.bg-background {
    background: oklch(0.16 0.035 285) !important;
    border-color: oklch(0.28 0.04 285) !important;
}

/* Tab styling - colors only */
.yoopta-editor-container [role="tablist"] {
    background: oklch(0.95 0.008 285) !important;
}

.dark .yoopta-editor-container [role="tablist"] {
    background: oklch(0.20 0.04 285) !important;
}

.yoopta-editor-container [role="tab"][data-state="active"] {
    background: white !important;
    color: oklch(0.20 0.02 285) !important;
}

.dark .yoopta-editor-container [role="tab"][data-state="active"] {
    background: oklch(0.28 0.05 285) !important;
    color: oklch(0.95 0.01 285) !important;
}

/* Muted backgrounds in placeholders */
.yoopta-editor-container .bg-muted {
    background: oklch(0.95 0.008 285) !important;
}

.dark .yoopta-editor-container .bg-muted {
    background: oklch(0.22 0.04 285) !important;
}

/* Muted text */
.yoopta-editor-container .text-muted-foreground {
    color: oklch(0.50 0.02 285) !important;
}

.dark .yoopta-editor-container .text-muted-foreground {
    color: oklch(0.65 0.02 285) !important;
}

/* Primary buttons */
.yoopta-editor-container button.bg-primary,
.yoopta-editor-container .bg-primary {
    background: oklch(0.55 0.22 285) !important;
}

.yoopta-editor-container button.bg-primary:hover {
    background: oklch(0.50 0.24 285) !important;
}

.dark .yoopta-editor-container button.bg-primary,
.dark .yoopta-editor-container .bg-primary {
    background: oklch(0.65 0.20 285) !important;
}

/* Border colors */
.yoopta-editor-container .border-border {
    border-color: oklch(0.88 0.015 285) !important;
}

.dark .yoopta-editor-container .border-border {
    border-color: oklch(0.28 0.04 285) !important;
}

/* Input fields */
.yoopta-editor-container input.border {
    border-color: oklch(0.88 0.015 285) !important;
    background: white !important;
}

.yoopta-editor-container input.border:focus {
    border-color: oklch(0.55 0.22 285) !important;
    outline: none !important;
    box-shadow: 0 0 0 2px oklch(0.55 0.22 285 / 0.15) !important;
}

.dark .yoopta-editor-container input.border {
    border-color: oklch(0.28 0.04 285) !important;
    background: oklch(0.18 0.04 285) !important;
    color: oklch(0.95 0.01 285) !important;
}

.dark .yoopta-editor-container input.border:focus {
    border-color: oklch(0.65 0.20 285) !important;
    box-shadow: 0 0 0 2px oklch(0.65 0.20 285 / 0.15) !important;
}

/* ===== EMBED BLOCKS ===== */
/* Minimal styling - don't break shadcn layout */

/* Instagram embed - remove height constraints, let it size naturally */
.yoopta-editor-container [data-yoopta-block="Embed"] iframe[src*="instagram"] {
    border-radius: 0.75rem !important;
    border: 1px solid oklch(0.88 0.015 285) !important;
}

.dark .yoopta-editor-container [data-yoopta-block="Embed"] iframe[src*="instagram"] {
    border-color: oklch(0.28 0.04 285) !important;
}

/* Spotify embed */
.yoopta-editor-container [data-yoopta-block="Embed"] iframe[src*="spotify"] {
    border-radius: 0.75rem !important;
    border: none !important;
}

/* ===== CODE BLOCK - FULL TOOLBAR SUPPORT ===== */
/* 
 * The shadcn Code block has:
 * - Header bar with language selector, theme selector
 * - Action buttons (copy, beautify, delete) that appear on hover
 * - Code area with Shiki syntax highlighting overlay
 */

.yoopta-editor-container [data-yoopta-block="Code"] {
    margin: 1rem 0 !important;
}

/* Main code block container */
.yoopta-editor-container [data-yoopta-block="Code"] > div.group\/code-block,
.yoopta-editor-container [data-yoopta-block="Code"] > div:first-child {
    border-radius: 0.5rem !important;
    overflow: hidden !important;
    border: 1px solid oklch(0.28 0.04 285) !important;
}

/* Header toolbar */
.yoopta-editor-container [data-yoopta-block="Code"] > div > div:first-child[contenteditable="false"] {
    background: oklch(0.18 0.03 285) !important;
    border-bottom: 1px solid oklch(0.25 0.04 285) !important;
    padding: 0.5rem 0.75rem !important;
    display: flex !important;
    justify-content: space-between !important;
    align-items: center !important;
}

/* Language and Theme selector buttons */
.yoopta-editor-container [data-yoopta-block="Code"] button[class*="flex"][class*="items-center"][class*="gap"] {
    background: oklch(0.22 0.035 285) !important;
    color: oklch(0.80 0.01 285) !important;
    border: 1px solid oklch(0.30 0.04 285) !important;
    border-radius: 0.375rem !important;
    padding: 0.375rem 0.625rem !important;
    font-size: 0.75rem !important;
    font-weight: 500 !important;
    cursor: pointer !important;
    transition: all 0.15s ease !important;
}

.yoopta-editor-container [data-yoopta-block="Code"] button[class*="flex"][class*="items-center"][class*="gap"]:hover {
    background: oklch(0.26 0.04 285) !important;
    border-color: oklch(0.38 0.05 285) !important;
    color: oklch(0.90 0.01 285) !important;
}

/* Chevron icons in selectors */
.yoopta-editor-container [data-yoopta-block="Code"] button svg.lucide-chevron-down {
    opacity: 0.7 !important;
}

/* Action buttons container - make always visible instead of hover-only */
.yoopta-editor-container [data-yoopta-block="Code"] .opacity-0.group-hover\/code-block\:opacity-100 {
    opacity: 1 !important;
}

/* Action buttons (copy, beautify, delete) */
.yoopta-editor-container [data-yoopta-block="Code"] button.h-7,
.yoopta-editor-container [data-yoopta-block="Code"] button[class*="size-7"] {
    background: oklch(0.22 0.035 285) !important;
    color: oklch(0.75 0.01 285) !important;
    border: 1px solid oklch(0.30 0.04 285) !important;
    border-radius: 0.375rem !important;
    width: 1.75rem !important;
    height: 1.75rem !important;
    padding: 0 !important;
    display: inline-flex !important;
    align-items: center !important;
    justify-content: center !important;
    cursor: pointer !important;
    transition: all 0.15s ease !important;
}

.yoopta-editor-container [data-yoopta-block="Code"] button.h-7:hover,
.yoopta-editor-container [data-yoopta-block="Code"] button[class*="size-7"]:hover {
    background: oklch(0.28 0.045 285) !important;
    color: oklch(0.90 0.01 285) !important;
    border-color: oklch(0.40 0.06 285) !important;
}

/* Code content area */
.yoopta-editor-container [data-yoopta-block="Code"] .bg-background {
    background: oklch(0.12 0.02 285) !important;
}

.yoopta-editor-container [data-yoopta-block="Code"] pre,
.yoopta-editor-container [data-yoopta-block="Code"] .font-mono {
    font-family: ui-monospace, SFMono-Regular, "SF Mono", Menlo, Consolas, monospace !important;
    font-size: 0.875rem !important;
    line-height: 1.6 !important;
}

/* Ensure caret is visible */
.yoopta-editor-container [data-yoopta-block="Code"] [contenteditable="true"] {
    caret-color: oklch(0.90 0.01 285) !important;
}

/* Language/Theme selector popovers */
[data-radix-popper-content-wrapper]:has([class*="max-h-"]) {
    z-index: 99999 !important;
}

[data-radix-popper-content-wrapper] .max-h-\[300px\],
[data-radix-popper-content-wrapper] [class*="overflow-y-auto"] {
    background: oklch(0.16 0.03 285) !important;
    border: 1px solid oklch(0.30 0.04 285) !important;
    border-radius: 0.5rem !important;
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.5) !important;
}

/* Search input in popover */
[data-radix-popper-content-wrapper] input[placeholder*="Search"] {
    background: oklch(0.12 0.02 285) !important;
    border: 1px solid oklch(0.28 0.04 285) !important;
    color: oklch(0.90 0.01 285) !important;
    border-radius: 0.375rem !important;
    padding: 0.5rem 0.75rem !important;
    font-size: 0.8125rem !important;
}

[data-radix-popper-content-wrapper] input[placeholder*="Search"]::placeholder {
    color: oklch(0.55 0.02 285) !important;
}

/* Language/Theme items in popover */
[data-radix-popper-content-wrapper] button[class*="w-full"][class*="justify-start"],
[data-radix-popper-content-wrapper] div[class*="cursor-pointer"] {
    color: oklch(0.80 0.01 285) !important;
    padding: 0.5rem 0.75rem !important;
    transition: background 0.1s ease !important;
}

[data-radix-popper-content-wrapper] button[class*="w-full"][class*="justify-start"]:hover,
[data-radix-popper-content-wrapper] div[class*="cursor-pointer"]:hover {
    background: oklch(0.22 0.04 285) !important;
    color: oklch(0.95 0.01 285) !important;
}

/* ===== ACCORDION BLOCKS ===== */

.yoopta-editor-container [data-yoopta-block="Accordion"] {
    margin: 0.5rem 0 !important;
    border: 1px solid oklch(0.90 0.01 285) !important;
    border-radius: 0.5rem !important;
    overflow: hidden !important;
}

.dark .yoopta-editor-container [data-yoopta-block="Accordion"] {
    border-color: oklch(0.25 0.04 285) !important;
}

/* ===== TABLE BLOCKS ===== */

.yoopta-editor-container [data-yoopta-block="Table"] {
    margin: 1rem 0 !important;
    overflow-x: auto !important;
}

.yoopta-editor-container [data-yoopta-block="Table"] table {
    width: 100% !important;
    border-collapse: collapse !important;
    border: 1px solid oklch(0.90 0.01 285) !important;
}

.yoopta-editor-container [data-yoopta-block="Table"] th,
.yoopta-editor-container [data-yoopta-block="Table"] td {
    border: 1px solid oklch(0.90 0.01 285) !important;
    padding: 0.5rem 0.75rem !important;
    text-align: left !important;
}

.yoopta-editor-container [data-yoopta-block="Table"] th {
    background: oklch(0.96 0.006 285) !important;
    font-weight: 600 !important;
}

.dark .yoopta-editor-container [data-yoopta-block="Table"] table,
.dark .yoopta-editor-container [data-yoopta-block="Table"] th,
.dark .yoopta-editor-container [data-yoopta-block="Table"] td {
    border-color: oklch(0.25 0.04 285) !important;
}

.dark .yoopta-editor-container [data-yoopta-block="Table"] th {
    background: oklch(0.18 0.04 285) !important;
}

/* ===== FIX BLOCK EDITABILITY ===== */

/* Ensure all text blocks remain editable */
.yoopta-editor-container [data-yoopta-block] [contenteditable="true"] {
    outline: none !important;
    min-height: 1.5em !important;
}

/* Fix for void elements like images */
.yoopta-editor-container [data-yoopta-block] [data-slate-void="true"] {
    user-select: none !important;
}

/* Ensure blocks have proper cursor */
.yoopta-editor-container [data-yoopta-block] {
    cursor: text !important;
}

.yoopta-editor-container [data-yoopta-block="Image"],
.yoopta-editor-container [data-yoopta-block="Video"],
.yoopta-editor-container [data-yoopta-block="File"],
.yoopta-editor-container [data-yoopta-block="Embed"],
.yoopta-editor-container [data-yoopta-block="Divider"] {
    cursor: default !important;
}

/* ===== YOOPTA DEFAULT EDITOR STYLES ===== */
/* These ensure the default Yoopta renderer looks good without themes-shadcn */

.yoopta-editor {
    font-family: inherit !important;
}

.yoopta-block {
    position: relative !important;
}

/* Block drag handle */
.yoopta-block-actions {
    opacity: 0 !important;
    transition: opacity 0.15s ease !important;
}

.yoopta-block:hover .yoopta-block-actions {
    opacity: 1 !important;
}

/* Ensure proper line height */
.yoopta-editor-container p,
.yoopta-editor-container li,
.yoopta-editor-container blockquote {
    line-height: 1.6 !important;
}

/* ===== YOOPTA RADIX UI PORTALS (SHADCN THEME) ===== */
/* 
 * Shadcn theme components use Radix UI which renders in portals outside the editor.
 * We need to provide CSS variables for these portals while keeping them scoped.
 * We use specific data attributes and class patterns to target only Yoopta-related portals.
 */

/* Radix Popover/Dialog/Select portals used by Yoopta shadcn theme */
[data-radix-popper-content-wrapper] {
    /* Only set these if the content is from Yoopta */
    z-index: 9999 !important;
}

/* Target Radix portals that are likely from Yoopta image/video/embed UI */
/* These use specific shadcn patterns */
[data-radix-popper-content-wrapper]:has([data-yoopta]),
[data-radix-popper-content-wrapper]:has(.yoopta) {
    --background: 0 0% 100%;
    --foreground: 240 10% 12%;
    --popover: 0 0% 100%;
    --popover-foreground: 240 10% 12%;
    --primary: 271 70% 45%;
    --primary-foreground: 0 0% 98%;
    --muted: 240 5% 96%;
    --muted-foreground: 240 4% 46%;
    --border: 240 6% 90%;
    --ring: 271 70% 45%;
    --radius: 0.5rem;
}

.dark [data-radix-popper-content-wrapper]:has([data-yoopta]),
.dark [data-radix-popper-content-wrapper]:has(.yoopta) {
    --background: 240 10% 10%;
    --foreground: 0 0% 95%;
    --popover: 240 10% 10%;
    --popover-foreground: 0 0% 95%;
    --primary: 271 70% 60%;
    --primary-foreground: 240 10% 10%;
    --muted: 240 4% 16%;
    --muted-foreground: 240 5% 65%;
    --border: 240 4% 20%;
    --ring: 271 70% 60%;
}

/* ===== YOOPTA SHADCN COMPONENT OVERRIDES ===== */
/* Style overrides for shadcn theme components within editor context */

/* Shadcn tabs in Yoopta (image upload tabs: Upload, Link, Unsplash, AI) */
.yoopta-editor-container [role="tablist"] {
    background: oklch(0.96 0.006 285) !important;
    border-radius: 0.375rem !important;
    padding: 0.125rem !important;
}

.yoopta-editor-container [role="tab"] {
    color: oklch(0.45 0.02 285) !important;
    padding: 0.375rem 0.75rem !important;
    border-radius: 0.25rem !important;
    font-size: 0.875rem !important;
}

.yoopta-editor-container [role="tab"][data-state="active"] {
    background: oklch(1.00 0 0) !important;
    color: oklch(0.20 0.02 285) !important;
    box-shadow: 0 1px 3px rgba(0,0,0,0.1) !important;
}

.dark .yoopta-editor-container [role="tablist"] {
    background: oklch(0.18 0.04 285) !important;
}

.dark .yoopta-editor-container [role="tab"] {
    color: oklch(0.70 0.02 285) !important;
}

.dark .yoopta-editor-container [role="tab"][data-state="active"] {
    background: oklch(0.25 0.05 285) !important;
    color: oklch(0.95 0.01 285) !important;
}

/* Shadcn buttons in Yoopta */
.yoopta-editor-container button:not([data-yoopta-floating-block-actions] button):not([data-yoopta-floating-toolbar] button) {
    font-size: 0.875rem !important;
}

/* Input fields in Yoopta (URL input for images, etc) */
.yoopta-editor-container input[type="text"],
.yoopta-editor-container input[type="url"] {
    background: oklch(1.00 0 0) !important;
    border: 1px solid oklch(0.90 0.01 285) !important;
    border-radius: 0.375rem !important;
    padding: 0.5rem 0.75rem !important;
    color: oklch(0.20 0.02 285) !important;
    font-size: 0.875rem !important;
}

.yoopta-editor-container input[type="text"]:focus,
.yoopta-editor-container input[type="url"]:focus {
    border-color: oklch(0.55 0.24 285) !important;
    outline: none !important;
    box-shadow: 0 0 0 2px oklch(0.55 0.24 285 / 0.2) !important;
}

.yoopta-editor-container input::placeholder {
    color: oklch(0.45 0.02 285) !important;
}

.dark .yoopta-editor-container input[type="text"],
.dark .yoopta-editor-container input[type="url"] {
    background: oklch(0.18 0.04 285) !important;
    border-color: oklch(0.25 0.04 285) !important;
    color: oklch(0.95 0.01 285) !important;
}

.dark .yoopta-editor-container input[type="text"]:focus,
.dark .yoopta-editor-container input[type="url"]:focus {
    border-color: oklch(0.70 0.22 285) !important;
    box-shadow: 0 0 0 2px oklch(0.70 0.22 285 / 0.2) !important;
}

.dark .yoopta-editor-container input::placeholder {
    color: oklch(0.70 0.02 285) !important;
}

/* Primary buttons in Yoopta */
.yoopta-editor-container button[class*="primary"],
.yoopta-editor-container button[data-primary="true"] {
    background: oklch(0.55 0.24 285) !important;
    color: oklch(0.98 0 0) !important;
    border: none !important;
    border-radius: 0.375rem !important;
    padding: 0.5rem 1rem !important;
    font-weight: 500 !important;
}

.yoopta-editor-container button[class*="primary"]:hover,
.yoopta-editor-container button[data-primary="true"]:hover {
    background: oklch(0.48 0.26 285) !important;
}

.dark .yoopta-editor-container button[class*="primary"],
.dark .yoopta-editor-container button[data-primary="true"] {
    background: oklch(0.70 0.22 285) !important;
    color: oklch(0.13 0.03 285) !important;
}

.dark .yoopta-editor-container button[class*="primary"]:hover,
.dark .yoopta-editor-container button[data-primary="true"]:hover {
    background: oklch(0.65 0.24 285) !important;
}

/* Select dropdowns in Yoopta (code language selector) */
.yoopta-editor-container select,
.yoopta-editor-container [role="combobox"] {
    background: oklch(1.00 0 0) !important;
    border: 1px solid oklch(0.90 0.01 285) !important;
    border-radius: 0.375rem !important;
    padding: 0.375rem 0.625rem !important;
    color: oklch(0.20 0.02 285) !important;
    font-size: 0.75rem !important;
}

.dark .yoopta-editor-container select,
.dark .yoopta-editor-container [role="combobox"] {
    background: oklch(0.18 0.04 285) !important;
    border-color: oklch(0.25 0.04 285) !important;
    color: oklch(0.95 0.01 285) !important;
}

/* ===== TODO LIST CHECKBOX ===== */

.yoopta-editor-container [data-yoopta-block="TodoList"] input[type="checkbox"],
.yoopta-editor-container [role="checkbox"] {
    width: 1rem !important;
    height: 1rem !important;
    border: 2px solid oklch(0.55 0.24 285) !important;
    border-radius: 0.25rem !important;
    background: transparent !important;
    cursor: pointer !important;
}

.yoopta-editor-container [data-yoopta-block="TodoList"] input[type="checkbox"]:checked,
.yoopta-editor-container [role="checkbox"][data-state="checked"] {
    background: oklch(0.55 0.24 285) !important;
    border-color: oklch(0.55 0.24 285) !important;
}

.dark .yoopta-editor-container [data-yoopta-block="TodoList"] input[type="checkbox"],
.dark .yoopta-editor-container [role="checkbox"] {
    border-color: oklch(0.70 0.22 285) !important;
}

.dark .yoopta-editor-container [data-yoopta-block="TodoList"] input[type="checkbox"]:checked,
.dark .yoopta-editor-container [role="checkbox"][data-state="checked"] {
    background: oklch(0.70 0.22 285) !important;
    border-color: oklch(0.70 0.22 285) !important;
}

/* ===== SHADCN SEPARATOR (DIVIDER) - CRITICAL FIX ===== */
/* 
 * The shadcn Divider theme uses a Radix Separator component with 'bg-border' class.
 * We need to ensure this is visible with proper height and background color.
 */

/* Target the separator element directly */
.yoopta-editor-container [role="separator"],
.yoopta-editor-container [data-orientation="horizontal"],
.yoopta-editor-container .bg-border {
    background-color: oklch(0.85 0.01 285) !important;
    height: 2px !important;
    min-height: 2px !important;
    width: 100% !important;
}

.dark .yoopta-editor-container [role="separator"],
.dark .yoopta-editor-container [data-orientation="horizontal"],
.dark .yoopta-editor-container .bg-border {
    background-color: oklch(0.35 0.04 285) !important;
}

/* Support for dashed and dotted dividers */
.yoopta-editor-container .border-dashed[role="separator"] {
    background-color: transparent !important;
    border-top: 2px dashed oklch(0.85 0.01 285) !important;
}

.yoopta-editor-container .border-dotted[role="separator"] {
    background-color: transparent !important;
    border-top: 2px dotted oklch(0.85 0.01 285) !important;
}

.dark .yoopta-editor-container .border-dashed[role="separator"] {
    border-top-color: oklch(0.35 0.04 285) !important;
}

.dark .yoopta-editor-container .border-dotted[role="separator"] {
    border-top-color: oklch(0.35 0.04 285) !important;
}

/* ===== SHADCN LISTS - CRITICAL FIX ===== */
/* 
 * The shadcn Lists theme uses <ul> with 'list-disc ml-6' classes.
 * Ensure proper list styling with visible bullets/numbers.
 */

/* Bulleted List */
.yoopta-editor-container [data-yoopta-block="BulletedList"] ul,
.yoopta-editor-container [data-yoopta-type="BulletedList"] ul,
.yoopta-editor-container ul[data-element-type="bulleted-list"],
.yoopta-editor-container ul.list-disc {
    list-style-type: disc !important;
    list-style-position: outside !important;
    margin-left: 1.5rem !important;
    padding-left: 0.5rem !important;
}

.yoopta-editor-container [data-yoopta-block="BulletedList"] li,
.yoopta-editor-container [data-yoopta-type="BulletedList"] li,
.yoopta-editor-container ul[data-element-type="bulleted-list"] li,
.yoopta-editor-container ul.list-disc li {
    padding-left: 0.5rem !important;
    margin-top: 0.25rem !important;
    display: list-item !important;
}

/* Numbered List */
.yoopta-editor-container [data-yoopta-block="NumberedList"] ol,
.yoopta-editor-container [data-yoopta-type="NumberedList"] ol,
.yoopta-editor-container ol[data-element-type="numbered-list"],
.yoopta-editor-container ol.list-decimal {
    list-style-type: decimal !important;
    list-style-position: outside !important;
    margin-left: 1.5rem !important;
    padding-left: 0.5rem !important;
}

.yoopta-editor-container [data-yoopta-block="NumberedList"] li,
.yoopta-editor-container [data-yoopta-type="NumberedList"] li,
.yoopta-editor-container ol[data-element-type="numbered-list"] li,
.yoopta-editor-container ol.list-decimal li {
    padding-left: 0.5rem !important;
    margin-top: 0.25rem !important;
    display: list-item !important;
}

/* Alternative: Shadcn numbered list uses a div with manual count span */
.yoopta-editor-container [data-yoopta-block="NumberedList"] .list-decimal,
.yoopta-editor-container [data-element-type="numbered-list"] {
    margin-left: 1.5rem !important;
}

.yoopta-editor-container [data-yoopta-block="NumberedList"] .list-decimal > span:first-child,
.yoopta-editor-container [data-element-type="numbered-list"] > span:first-child {
    min-width: 1.5rem !important;
    font-weight: 500 !important;
    color: oklch(0.45 0.02 285) !important;
}

.dark .yoopta-editor-container [data-yoopta-block="NumberedList"] .list-decimal > span:first-child,
.dark .yoopta-editor-container [data-element-type="numbered-list"] > span:first-child {
    color: oklch(0.70 0.02 285) !important;
}

/* Todo List checkbox styling */
.yoopta-editor-container [data-yoopta-block="TodoList"] button,
.yoopta-editor-container [data-element-type="todo-list"] button {
    width: 1.25rem !important;
    height: 1.25rem !important;
    min-width: 1.25rem !important;
    min-height: 1.25rem !important;
    border: 2px solid oklch(0.55 0.24 285) !important;
    border-radius: 0.25rem !important;
    display: inline-flex !important;
    align-items: center !important;
    justify-content: center !important;
    cursor: pointer !important;
    transition: all 0.15s ease !important;
    flex-shrink: 0 !important;
}

.yoopta-editor-container [data-yoopta-block="TodoList"] button.bg-primary,
.yoopta-editor-container [data-element-type="todo-list"] button.bg-primary {
    background: oklch(0.55 0.24 285) !important;
    border-color: oklch(0.55 0.24 285) !important;
}

.yoopta-editor-container [data-yoopta-block="TodoList"] button svg,
.yoopta-editor-container [data-element-type="todo-list"] button svg {
    width: 0.75rem !important;
    height: 0.75rem !important;
    color: white !important;
}

.dark .yoopta-editor-container [data-yoopta-block="TodoList"] button,
.dark .yoopta-editor-container [data-element-type="todo-list"] button {
    border-color: oklch(0.70 0.22 285) !important;
}

.dark .yoopta-editor-container [data-yoopta-block="TodoList"] button.bg-primary,
.dark .yoopta-editor-container [data-element-type="todo-list"] button.bg-primary {
    background: oklch(0.70 0.22 285) !important;
    border-color: oklch(0.70 0.22 285) !important;
}

/* Strikethrough for completed todos */
.yoopta-editor-container .line-through {
    text-decoration: line-through !important;
    opacity: 0.6 !important;
}

/* ===== GENERIC LIST FALLBACK ===== */
/* Catch-all for any ul/ol inside editor that doesn't have specific styling */
.yoopta-editor-container ul:not([role]):not([class*="menu"]):not([class*="toolbar"]) {
    list-style-type: disc !important;
    list-style-position: outside !important;
    margin-left: 1.5rem !important;
    padding-left: 0.5rem !important;
}

.yoopta-editor-container ol:not([role]):not([class*="menu"]):not([class*="toolbar"]) {
    list-style-type: decimal !important;
    list-style-position: outside !important;
    margin-left: 1.5rem !important;
    padding-left: 0.5rem !important;
}

.yoopta-editor-container ul:not([role]):not([class*="menu"]):not([class*="toolbar"]) li,
.yoopta-editor-container ol:not([role]):not([class*="menu"]):not([class*="toolbar"]) li {
    display: list-item !important;
    padding-left: 0.5rem !important;
    margin-top: 0.25rem !important;
}

/* ===== HIGHLIGHT MARK - CRITICAL FIX ===== */
/* 
 * Yoopta highlight mark applies inline styles or specific data attributes.
 * Cover all possible cases.
 */

/* Inline style highlight */
.yoopta-editor-container [data-slate-leaf] span[style*="background"],
.yoopta-editor-container span[style*="backgroundColor"] {
    background-color: oklch(0.85 0.18 90) !important;
    padding: 0.1rem 0.15rem !important;
    border-radius: 0.15rem !important;
}

.dark .yoopta-editor-container [data-slate-leaf] span[style*="background"],
.dark .yoopta-editor-container span[style*="backgroundColor"] {
    background-color: oklch(0.55 0.15 90) !important;
    color: oklch(0.15 0.02 285) !important;
}

/* Mark element */
.yoopta-editor-container mark {
    background-color: oklch(0.85 0.18 90) !important;
    color: oklch(0.15 0.02 285) !important;
    padding: 0.1rem 0.2rem !important;
    border-radius: 0.15rem !important;
}

.dark .yoopta-editor-container mark {
    background-color: oklch(0.55 0.15 90) !important;
    color: oklch(0.15 0.02 285) !important;
}

/* Data attribute based highlight */
.yoopta-editor-container [data-yoopta-mark="highlight"],
.yoopta-editor-container [data-highlight="true"] {
    background-color: oklch(0.85 0.18 90) !important;
    color: oklch(0.15 0.02 285) !important;
    padding: 0.1rem 0.2rem !important;
    border-radius: 0.15rem !important;
}

.dark .yoopta-editor-container [data-yoopta-mark="highlight"],
.dark .yoopta-editor-container [data-highlight="true"] {
    background-color: oklch(0.55 0.15 90) !important;
}

/* ===== CODE BLOCK TOOLBAR - CRITICAL FIX ===== */
/* 
 * The shadcn Code block has a toolbar with language selector, theme picker,
 * copy button, beautify button, and delete button.
 * Ensure these are properly styled and visible.
 */

/* Code block wrapper - ensure toolbar is visible */
.yoopta-editor-container [data-yoopta-block="Code"] > div,
.yoopta-editor-container [data-element-type="code"] {
    position: relative !important;
}

/* Code toolbar at top of code block */
.yoopta-editor-container [data-yoopta-block="Code"] .group\/code-block,
.yoopta-editor-container [data-element-type="code"] > div:first-child {
    display: flex !important;
    justify-content: space-between !important;
    align-items: center !important;
    padding: 0.5rem 0.75rem !important;
    background: oklch(0.18 0.025 285) !important;
    border-bottom: 1px solid oklch(0.25 0.04 285) !important;
    border-radius: 0.5rem 0.5rem 0 0 !important;
}

/* Language and theme selectors */
.yoopta-editor-container [data-yoopta-block="Code"] [role="combobox"],
.yoopta-editor-container [data-yoopta-block="Code"] button[class*="flex"][class*="items-center"] {
    background: oklch(0.22 0.035 285) !important;
    border: 1px solid oklch(0.30 0.04 285) !important;
    color: oklch(0.85 0.01 285) !important;
    padding: 0.25rem 0.5rem !important;
    border-radius: 0.25rem !important;
    font-size: 0.75rem !important;
    height: auto !important;
    min-height: 1.75rem !important;
}

.yoopta-editor-container [data-yoopta-block="Code"] [role="combobox"]:hover,
.yoopta-editor-container [data-yoopta-block="Code"] button[class*="flex"][class*="items-center"]:hover {
    background: oklch(0.26 0.04 285) !important;
    border-color: oklch(0.40 0.05 285) !important;
}

/* Action buttons (copy, beautify, delete) */
.yoopta-editor-container [data-yoopta-block="Code"] button[class*="h-7"],
.yoopta-editor-container [data-yoopta-block="Code"] button[class*="size-"] {
    background: oklch(0.22 0.035 285) !important;
    border: 1px solid oklch(0.30 0.04 285) !important;
    color: oklch(0.75 0.01 285) !important;
    padding: 0.25rem !important;
    border-radius: 0.25rem !important;
    opacity: 0.7 !important;
    transition: all 0.15s ease !important;
}

.yoopta-editor-container [data-yoopta-block="Code"] button[class*="h-7"]:hover,
.yoopta-editor-container [data-yoopta-block="Code"] button[class*="size-"]:hover {
    opacity: 1 !important;
    background: oklch(0.28 0.04 285) !important;
    color: oklch(0.90 0.01 285) !important;
}

/* Code content area with proper styling */
.yoopta-editor-container [data-yoopta-block="Code"] pre {
    margin: 0 !important;
    padding: 1rem !important;
    background: oklch(0.12 0.02 285) !important;
    border-radius: 0 0 0.5rem 0.5rem !important;
    border: 1px solid oklch(0.25 0.04 285) !important;
    border-top: none !important;
    overflow-x: auto !important;
}

/* Shiki highlighted code overlay */
.yoopta-editor-container [data-yoopta-block="Code"] [style*="position: absolute"] {
    pointer-events: none !important;
}

/* Ensure caret is visible in code */
.yoopta-editor-container [data-yoopta-block="Code"] [contenteditable="true"] {
    caret-color: oklch(0.90 0.01 285) !important;
    color: transparent !important;
}

/* Popover for language/theme selection */
[data-radix-popper-content-wrapper] [role="listbox"],
[data-radix-popper-content-wrapper] [class*="popover"] {
    background: oklch(0.16 0.03 285) !important;
    border: 1px solid oklch(0.30 0.04 285) !important;
    border-radius: 0.5rem !important;
    box-shadow: 0 4px 24px rgba(0, 0, 0, 0.4) !important;
    max-height: 300px !important;
    overflow-y: auto !important;
}

[data-radix-popper-content-wrapper] [role="option"],
[data-radix-popper-content-wrapper] [class*="popover"] button {
    color: oklch(0.85 0.01 285) !important;
    padding: 0.5rem 0.75rem !important;
}

[data-radix-popper-content-wrapper] [role="option"]:hover,
[data-radix-popper-content-wrapper] [role="option"][data-highlighted],
[data-radix-popper-content-wrapper] [class*="popover"] button:hover {
    background: oklch(0.22 0.04 285) !important;
    color: oklch(0.95 0.01 285) !important;
}

/* Search input in language/theme popover */
[data-radix-popper-content-wrapper] input {
    background: oklch(0.12 0.02 285) !important;
    border: 1px solid oklch(0.30 0.04 285) !important;
    color: oklch(0.90 0.01 285) !important;
    padding: 0.5rem 0.75rem !important;
    border-radius: 0.25rem !important;
    margin: 0.5rem !important;
    width: calc(100% - 1rem) !important;
}

[data-radix-popper-content-wrapper] input::placeholder {
    color: oklch(0.55 0.02 285) !important;
}

/* ===== CALLOUT VARIANTS ===== */
/* 
 * Callout has different theme variants: default, info, success, warning, error.
 * Apply proper colors for each.
 */

.yoopta-editor-container [data-yoopta-block="Callout"] {
    padding: 1rem !important;
    border-radius: 0.5rem !important;
    margin: 0.75rem 0 !important;
    display: flex !important;
    gap: 0.75rem !important;
    align-items: flex-start !important;
}

/* Default callout */
.yoopta-editor-container [data-yoopta-block="Callout"][data-theme="default"],
.yoopta-editor-container [data-yoopta-block="Callout"]:not([data-theme]) {
    background: oklch(0.96 0.006 285) !important;
    border: 1px solid oklch(0.88 0.01 285) !important;
}

.dark .yoopta-editor-container [data-yoopta-block="Callout"][data-theme="default"],
.dark .yoopta-editor-container [data-yoopta-block="Callout"]:not([data-theme]) {
    background: oklch(0.20 0.04 285) !important;
    border-color: oklch(0.28 0.04 285) !important;
}

/* Info callout - blue */
.yoopta-editor-container [data-yoopta-block="Callout"][data-theme="info"] {
    background: oklch(0.95 0.02 240) !important;
    border: 1px solid oklch(0.75 0.12 240) !important;
}

.dark .yoopta-editor-container [data-yoopta-block="Callout"][data-theme="info"] {
    background: oklch(0.22 0.06 240) !important;
    border-color: oklch(0.40 0.12 240) !important;
}

/* Success callout - green */
.yoopta-editor-container [data-yoopta-block="Callout"][data-theme="success"] {
    background: oklch(0.95 0.03 145) !important;
    border: 1px solid oklch(0.70 0.15 145) !important;
}

.dark .yoopta-editor-container [data-yoopta-block="Callout"][data-theme="success"] {
    background: oklch(0.22 0.06 145) !important;
    border-color: oklch(0.45 0.12 145) !important;
}

/* Warning callout - yellow/orange */
.yoopta-editor-container [data-yoopta-block="Callout"][data-theme="warning"] {
    background: oklch(0.95 0.05 85) !important;
    border: 1px solid oklch(0.75 0.15 85) !important;
}

.dark .yoopta-editor-container [data-yoopta-block="Callout"][data-theme="warning"] {
    background: oklch(0.25 0.08 85) !important;
    border-color: oklch(0.50 0.15 85) !important;
}

/* Error callout - red */
.yoopta-editor-container [data-yoopta-block="Callout"][data-theme="error"] {
    background: oklch(0.95 0.03 25) !important;
    border: 1px solid oklch(0.65 0.18 25) !important;
}

.dark .yoopta-editor-container [data-yoopta-block="Callout"][data-theme="error"] {
    background: oklch(0.22 0.08 25) !important;
    border-color: oklch(0.45 0.18 25) !important;
}

/* Callout icon */
.yoopta-editor-container [data-yoopta-block="Callout"] svg:first-child {
    flex-shrink: 0 !important;
    width: 1.25rem !important;
    height: 1.25rem !important;
    margin-top: 0.125rem !important;
}
